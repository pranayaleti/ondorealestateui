import{i as ge,p as ye,n as oe,j as e,B as m,k as J,q as Se,r as Ce,s as Pe,m as le,L as ke}from"./index-BAAyN0wm.js";import{u as fe,r as u,L as W,e as Ne,f as Y}from"./react-vendor-CaQki1kR.js";import{C as h,d as j,a as v,b as w,c as M}from"./card-VX4ullBD.js";import{T as ee,k as se,l as D,m as L,B as P,S as I,a as E,b as B,c as q,d,D as De,f as Ae,g as Me,h as Te,i as Re,P as Le,I as Fe,n as H}from"./profile-picture-viewer-CHEbzrCz.js";import{W as ae,a1 as G,i as ce,s as ne,D as te,r as Q,u as re,e as Ie,B as ie,J as de,q as me,m as X,o as je,O as xe,X as Ee,n as Z,Z as Be,R as ve,p as qe,l as $e,c as we,a6 as ue,K as ze,U as be,a3 as Ve,_ as Ue,a7 as _e,t as Ye,a8 as He,S as Oe,M as We,a0 as Je,$ as Ke}from"./ui-vendor-DU0NExUN.js";import{L as c,I as T}from"./label-BPjYTGLq.js";import{T as he}from"./textarea-BMEdPVmr.js";function Ge(){var F,_,V;const{user:i}=ge(),b=fe(),[l,N]=u.useState("overview"),[t,y]=u.useState(null),[C,p]=u.useState(!0),[x,n]=u.useState([]),[s,f]=u.useState(!0);u.useEffect(()=>{S(),k()},[]);const S=async()=>{try{p(!0);const a=await ye.getTenantProperty();y(a)}catch(a){console.error("Error fetching assigned property:",a),y(null)}finally{p(!1)}},k=async()=>{try{f(!0);const a=await oe.getTenantMaintenanceRequests();n(a)}catch(a){console.error("Error fetching maintenance requests:",a),n([])}finally{f(!1)}},R=()=>x.filter(a=>(a.status==="in_progress"||a.status==="pending")&&a.assignedTo),A=()=>x.filter(a=>!a.assignedTo||a.status==="completed"),$=()=>{if(!t)return null;const a=new Date(t.createdAt),r=new Date;let o=new Date(a);for(;o<=r;)o.setMonth(o.getMonth()+1);return o},z=a=>a.toLocaleDateString("en-US",{month:"long",day:"numeric"});return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Welcome back, ",i==null?void 0:i.firstName," ",i==null?void 0:i.lastName,"!"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Here's what's happening with your rental"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(W,{to:"/tenant/maintenance/",children:e.jsx(h,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(j,{className:"flex items-center p-4",children:[e.jsx(ae,{className:"h-8 w-8 text-blue-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Maintenance"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Submit Request"})]})]})})}),e.jsx(h,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(j,{className:"flex items-center p-4",children:[e.jsx(G,{className:"h-8 w-8 text-green-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Payments"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Coming Soon..."})]})]})}),e.jsx(h,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(j,{className:"flex items-center p-4",children:[e.jsx(ce,{className:"h-8 w-8 text-purple-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Documents"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Coming Soon..."})]})]})}),e.jsx(h,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(j,{className:"flex items-center p-4",children:[e.jsx(ne,{className:"h-8 w-8 text-orange-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Messages"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Coming Soon..."})]})]})})]}),e.jsxs(ee,{value:l,onValueChange:N,className:"space-y-6",children:[e.jsxs(se,{className:"grid w-full grid-cols-4",children:[e.jsx(D,{value:"overview",children:"Overview"}),e.jsx(D,{value:"property",children:"Property"}),e.jsx(D,{value:"maintenance",onClick:()=>b("/tenant/maintenance/"),children:"Maintenance"}),e.jsx(D,{value:"payments",children:"Payments"})]}),e.jsxs(L,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Next Rent Due"}),e.jsx(te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",((F=t==null?void 0:t.price)==null?void 0:F.toLocaleString())||"0"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due ",$()?z($()):"N/A"]}),e.jsx(m,{className:"w-full mt-3 bg-ondo-orange hover:bg-ondo-red transition-colors",size:"sm",children:"Pay Now"})]})]}),e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Lease Expires"}),e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"Dec x"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Year"}),e.jsx(P,{variant:"outline",className:"mt-3",children:"x months left"})]})]}),e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Active Requests"}),e.jsx(ae,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?"...":R().length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Assigned maintenance requests"}),R().length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[R().slice(0,2).map(a=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"truncate",children:a.title}),e.jsx(P,{variant:a.status==="in_progress"?"default":"secondary",children:a.status.replace("_"," ")})]},a.id)),R().length>2&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",R().length-2," more"]})]}),e.jsx(W,{to:"/tenant/maintenance/",children:e.jsx(m,{variant:"outline",className:"w-full mt-3 border-ondo-orange text-ondo-orange hover:bg-ondo-orange hover:text-white",size:"sm",children:"View All"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Recent Maintenance"}),e.jsx(M,{children:"Your latest maintenance requests"})]}),e.jsxs(j,{className:"space-y-4",children:[s?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(re,{className:"h-8 w-8 text-gray-400 mx-auto mb-2 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]}):A().length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ae,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No maintenance requests yet"})]}):e.jsxs("div",{className:"space-y-3",children:[A().slice(0,3).map(a=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:a.title}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(a.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{variant:a.status==="completed"?"default":a.status==="in_progress"?"secondary":"outline",children:a.status.replace("_"," ")}),a.assignedTo&&e.jsx("span",{className:"text-xs text-gray-500",children:"Assigned"})]})]},a.id)),A().length>3&&e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["+",A().length-3," more requests"]})]}),e.jsx(W,{to:"/tenant/maintenance/",children:e.jsx(m,{variant:"outline",className:"w-full border-ondo-orange text-ondo-orange hover:bg-ondo-orange hover:text-white",children:A().length===0?"Submit New Request":"View All Requests"})})]})]}),e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Recent Messages"}),e.jsx(M,{children:"Latest communications"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ne,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No messages yet"})]}),e.jsx(W,{to:"/tenant/messages",children:e.jsx(m,{variant:"outline",className:"w-full border-ondo-orange text-ondo-orange hover:bg-ondo-orange hover:text-white",children:"View All Messages"})})]})]})]})]}),e.jsx(L,{value:"property",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:(t==null?void 0:t.title)||"Property Details"}),e.jsxs("div",{className:"flex items-center text-gray-600 mt-1",children:[e.jsx(Ie,{className:"h-4 w-4 mr-1"}),e.jsx(M,{children:t!=null&&t.addressLine1&&(t!=null&&t.city)?`${t.addressLine1}, ${t.city}`:C?"Loading property details...":"No property assigned"})]})]}),e.jsx(j,{className:"space-y-4",children:C?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading property..."})]}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(P,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(ie,{className:"h-3 w-3 mr-1"}),"Occupied"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Monthly Rent"}),e.jsxs("p",{className:"text-lg font-semibold",children:["$",((_=t.price)==null?void 0:_.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Property Type"}),e.jsx("p",{className:"text-lg capitalize",children:(t==null?void 0:t.type)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bedrooms"}),e.jsx("p",{className:"text-lg",children:(t==null?void 0:t.bedrooms)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bathrooms"}),e.jsx("p",{className:"text-lg",children:(t==null?void 0:t.bathrooms)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Square Footage"}),e.jsxs("p",{className:"text-lg",children:[((V=t==null?void 0:t.sqft)==null?void 0:V.toLocaleString())||"N/A"," sq ft"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("p",{className:"text-lg capitalize",children:(t==null?void 0:t.status)||"N/A"})]})]}),(t==null?void 0:t.description)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-gray-700 mt-1",children:t.description})]}),(t==null?void 0:t.amenities)&&t.amenities.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:t.amenities.map((a,r)=>e.jsx(P,{variant:"outline",className:"text-xs",children:a},r))})]}),(t==null?void 0:t.photos)&&t.photos.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Property Photos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:t.photos.map(a=>e.jsx("img",{src:a.url,alt:a.caption||"Property photo",className:"w-full h-24 object-cover rounded-lg"},a.id))})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Property Assigned"}),e.jsx("p",{className:"text-gray-600",children:"You haven't been assigned to a property yet. Contact your property manager for more information."})]})})]})}),e.jsx(L,{value:"payments",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Payment History"}),e.jsx(M,{children:"Your recent rent payments"})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment History"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your payment history will appear here once you make payments."}),e.jsx(m,{className:"bg-ondo-orange hover:bg-ondo-red text-white",children:"Coming Soon... "})]})})})]})})]})]})}function Xe(){const[i,b]=u.useState(""),[l,N]=u.useState("all"),[t,y]=u.useState("all"),[C,p]=u.useState([]),[x,n]=u.useState(!0),[s,f]=u.useState(null),[S,k]=u.useState(null),[R,A]=u.useState(!1),{toast:$}=J();u.useEffect(()=>{z()},[]);const z=async()=>{try{n(!0),f(null),console.log("ðŸ” Fetching maintenance requests...");const a=await oe.getTenantMaintenanceRequests();console.log("ðŸ“Š Received maintenance requests:",a),p(a)}catch(a){console.error("âŒ Error fetching maintenance requests:",a),console.error("âŒ Error details:",a.message),f("Failed to load maintenance requests"),$({title:"Error",description:"Failed to load maintenance requests. Please try again.",variant:"destructive"})}finally{n(!1)}},F=C.filter(a=>{const r=a.title.toLowerCase().includes(i.toLowerCase())||a.description.toLowerCase().includes(i.toLowerCase()),o=l==="all"||a.status===l,g=t==="all"||a.priority===t;return r&&o&&g}),_=a=>{switch(a){case"completed":return e.jsx(Z,{className:"h-4 w-4 text-green-500"});case"in_progress":return e.jsx(re,{className:"h-4 w-4 text-yellow-500"});case"pending":return e.jsx(je,{className:"h-4 w-4 text-red-500"});default:return e.jsx(re,{className:"h-4 w-4 text-gray-500"})}},V=a=>{switch(a){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Maintenance Requests"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your maintenance requests"})]}),e.jsx(W,{to:"/tenant/maintenance/new",children:e.jsxs(m,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"New Request"]})})]}),e.jsx(h,{children:e.jsx(j,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(T,{id:"search",placeholder:"Search requests...",value:i,onChange:a=>b(a.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"status",children:"Status"}),e.jsxs(I,{value:l,onValueChange:N,children:[e.jsx(E,{children:e.jsx(B,{placeholder:"All Statuses"})}),e.jsxs(q,{children:[e.jsx(d,{value:"all",children:"All Statuses"}),e.jsx(d,{value:"pending",children:"Pending"}),e.jsx(d,{value:"in_progress",children:"In Progress"}),e.jsx(d,{value:"completed",children:"Completed"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"priority",children:"Priority"}),e.jsxs(I,{value:t,onValueChange:y,children:[e.jsx(E,{children:e.jsx(B,{placeholder:"All Priorities"})}),e.jsxs(q,{children:[e.jsx(d,{value:"all",children:"All Priorities"}),e.jsx(d,{value:"high",children:"High"}),e.jsx(d,{value:"medium",children:"Medium"}),e.jsx(d,{value:"low",children:"Low"})]})]})]})]})})}),e.jsx("div",{className:"space-y-4",children:x?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(X,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading maintenance requests..."})]}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(je,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Requests"}),e.jsx("p",{className:"text-gray-600 mb-4",children:s}),e.jsx(m,{onClick:z,children:"Try Again"})]}):F.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Maintenance Requests"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't submitted any maintenance requests yet."}),e.jsx(W,{to:"/tenant/maintenance/new",children:e.jsxs(m,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Submit Your First Request"]})})]}):F.map(a=>e.jsx(h,{className:"hover:shadow-md transition-shadow",children:e.jsxs(j,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[_(a.status),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:a.description})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs(P,{className:V(a.priority),children:[a.priority," priority"]}),e.jsx(P,{variant:"outline",children:a.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Submitted:"}),e.jsx("p",{className:"font-medium",children:new Date(a.createdAt).toLocaleDateString()})]}),a.dateScheduled&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Scheduled:"}),e.jsx("p",{className:"font-medium",children:new Date(a.dateScheduled).toLocaleDateString()})]}),a.dateCompleted&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Completed:"}),e.jsx("p",{className:"font-medium",children:new Date(a.dateCompleted).toLocaleDateString()})]}),a.assignedTo&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Assigned to:"}),e.jsx("p",{className:"font-medium",children:a.assignedTo})]})]}),a.managerNotes&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Manager Response:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded",children:[e.jsx("p",{className:"text-sm",children:a.managerNotes}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Updated: ",new Date(a.updatedAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.photos&&a.photos.length>0&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(xe,{className:"h-4 w-4 mr-1"}),a.photos.length," photo(s)"]}),a.updates&&a.updates.length>0&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(ne,{className:"h-4 w-4 mr-1"}),a.updates.length," update(s)"]})]}),e.jsx(m,{variant:"outline",size:"sm",onClick:()=>{k(a),A(!0)},children:"View Details"})]})]})},a.id))}),e.jsx(De,{open:R,onOpenChange:A,children:e.jsxs(Ae,{className:"max-w-2xl",children:[e.jsxs(Me,{children:[e.jsx(Te,{children:"Maintenance Request Details"}),e.jsx(Re,{children:"Complete information about your maintenance request"})]}),S&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Title"}),e.jsx("p",{className:"text-sm text-gray-600",children:S.title})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Status"}),e.jsx(P,{className:V(S.priority),children:S.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Priority"}),e.jsxs(P,{variant:"outline",children:[S.priority," priority"]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Category"}),e.jsx("p",{className:"text-sm text-gray-600",children:S.category})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Submitted"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(S.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(S.updatedAt).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description})]}),S.assignedTo&&e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Assigned To"}),e.jsx("p",{className:"text-sm text-gray-600",children:S.assignedTo})]}),S.managerNotes&&e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Manager Response"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded mt-1",children:e.jsx("p",{className:"text-sm",children:S.managerNotes})})]})]})]})})]})}function Ze(){const i=fe(),{toast:b}=J(),[l,N]=u.useState({title:"",description:"",category:"",priority:"medium",photos:[]}),[t,y]=u.useState(!1),C=async n=>{if(n.preventDefault(),!l.title.trim()||!l.description.trim()||!l.category){b({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}try{y(!0),await oe.createMaintenanceRequest({title:l.title,description:l.description,category:l.category,priority:l.priority,photos:[]}),b({title:"Request Submitted",description:"Your maintenance request has been submitted successfully."}),i("/tenant/maintenance/")}catch(s){console.error("Error submitting maintenance request:",s),b({title:"Error",description:s.message||"Failed to submit maintenance request. Please try again.",variant:"destructive"})}finally{y(!1)}},p=n=>{if(n.target.files){const s=Array.from(n.target.files);N(f=>({...f,photos:[...f.photos,...s]}))}},x=n=>{N(s=>({...s,photos:s.photos.filter((f,S)=>S!==n)}))};return e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Maintenance Request"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Submit a new maintenance request"})]}),e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Request Details"}),e.jsx(M,{children:"Please provide detailed information about the maintenance issue"})]}),e.jsx(j,{children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"title",children:"Issue Title *"}),e.jsx(T,{id:"title",value:l.title,onChange:n=>N(s=>({...s,title:n.target.value})),placeholder:"Brief description of the issue",required:!0})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"category",children:"Category *"}),e.jsxs(I,{value:l.category,onValueChange:n=>N(s=>({...s,category:n})),required:!0,children:[e.jsx(E,{children:e.jsx(B,{placeholder:"Select category"})}),e.jsxs(q,{children:[e.jsx(d,{value:"plumbing",children:"Plumbing"}),e.jsx(d,{value:"electrical",children:"Electrical"}),e.jsx(d,{value:"hvac",children:"HVAC"}),e.jsx(d,{value:"appliances",children:"Appliances"}),e.jsx(d,{value:"flooring",children:"Flooring"}),e.jsx(d,{value:"windows",children:"Windows/Doors"}),e.jsx(d,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"priority",children:"Priority"}),e.jsxs(I,{value:l.priority,onValueChange:n=>N(s=>({...s,priority:n})),children:[e.jsx(E,{children:e.jsx(B,{})}),e.jsxs(q,{children:[e.jsx(d,{value:"low",children:"Low - Can wait a few days"}),e.jsx(d,{value:"medium",children:"Medium - Should be addressed soon"}),e.jsx(d,{value:"high",children:"High - Urgent, affects daily life"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"description",children:"Detailed Description *"}),e.jsx(he,{id:"description",value:l.description,onChange:n=>N(s=>({...s,description:n.target.value})),placeholder:"Please provide a detailed description of the issue, including when it started, what you've tried, and any other relevant information...",rows:4,required:!0})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"photos",children:"Photos (Optional)"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(T,{id:"photos",type:"file",multiple:!0,accept:"image/*",onChange:p,className:"mb-4"}),l.photos.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Selected photos:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.photos.map((n,s)=>e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded",children:[e.jsx("span",{className:"text-sm mr-2",children:n.name}),e.jsx("button",{type:"button",onClick:()=>x(s),className:"text-red-500 hover:text-red-700",children:e.jsx(Ee,{className:"h-4 w-4"})})]},s))})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(W,{to:"/tenant/maintenance/",children:e.jsx(m,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(m,{type:"submit",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Request"})]})]})})]})]})}function Qe(){return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(Ne,{children:[e.jsx(Y,{path:"/",element:e.jsx(Xe,{})}),e.jsx(Y,{path:"/new",element:e.jsx(Ze,{})})]})})}const U={currentRent:1850,nextDueDate:"2024-02-01",balance:0,paymentHistory:[{id:1,date:"2024-01-01",amount:1850,type:"Rent",status:"paid",method:"Credit Card",reference:"PAY-2024-001",lateFee:0},{id:2,date:"2023-12-01",amount:1850,type:"Rent",status:"paid",method:"Bank Transfer",reference:"PAY-2023-012",lateFee:0},{id:3,date:"2023-11-01",amount:1925,type:"Rent",status:"paid",method:"Credit Card",reference:"PAY-2023-011",lateFee:75},{id:4,date:"2023-10-01",amount:1850,type:"Rent",status:"paid",method:"Credit Card",reference:"PAY-2023-010",lateFee:0},{id:5,date:"2023-09-15",amount:200,type:"Security Deposit",status:"paid",method:"Bank Transfer",reference:"DEP-2023-001",lateFee:0}],savedPaymentMethods:[{id:1,type:"credit_card",last4:"4242",brand:"Visa",isDefault:!0},{id:2,type:"bank_account",last4:"1234",bank:"Chase Bank",isDefault:!1}]};function es(){const{toast:i}=J(),[b,l]=u.useState("overview"),[N,t]=u.useState(U.currentRent.toString()),[y,C]=u.useState("1"),p=()=>{i({title:"Payment Processed",description:`Payment of $${N} has been processed successfully.`})},x=s=>{switch(s){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"overdue":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},n=s=>{switch(s){case"credit_card":return e.jsx(G,{className:"h-4 w-4"});case"bank_account":return e.jsx(ie,{className:"h-4 w-4"});default:return e.jsx(te,{className:"h-4 w-4"})}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Payments & Billing"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your rent payments and billing information"})]}),e.jsxs(ee,{value:b,onValueChange:l,className:"space-y-6",children:[e.jsxs(se,{className:"grid w-full grid-cols-4",children:[e.jsx(D,{value:"overview",children:"Overview"}),e.jsx(D,{value:"pay",children:"Pay Rent"}),e.jsx(D,{value:"history",children:"History"}),e.jsx(D,{value:"methods",children:"Payment Methods"})]}),e.jsxs(L,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Next Payment Due"}),e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",U.currentRent]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due ",U.nextDueDate]}),e.jsx(m,{className:"w-full mt-3",onClick:()=>l("pay"),children:"Pay Now"})]})]}),e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Current Balance"}),e.jsx(te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",U.balance]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All caught up!"}),e.jsxs(P,{className:"mt-3 bg-green-100 text-green-800",children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),"Paid"]})]})]}),e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Payment History"}),e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:U.paymentHistory.filter(s=>s.status==="paid").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Payments made"}),e.jsx(m,{variant:"outline",className:"w-full mt-3",onClick:()=>l("history"),children:"View History"})]})]})]}),e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Recent Payments"}),e.jsx(M,{children:"Your last 3 payments"})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:U.paymentHistory.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-full",children:e.jsx(Z,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.type}),e.jsx("p",{className:"text-sm text-gray-500",children:s.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:["$",s.amount]}),e.jsx(P,{className:x(s.status),children:s.status})]})]},s.id))})})]})]}),e.jsx(L,{value:"pay",className:"space-y-6",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Make a Payment"}),e.jsx(M,{children:"Pay your rent securely online"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"amount",children:"Payment Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(T,{id:"amount",type:"number",value:N,onChange:s=>t(s.target.value),className:"pl-10",min:"0",step:"0.01"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Monthly rent: $",U.currentRent]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"payment-method",children:"Payment Method"}),e.jsxs(I,{value:y,onValueChange:C,children:[e.jsx(E,{children:e.jsx(B,{})}),e.jsx(q,{children:U.savedPaymentMethods.map(s=>e.jsx(d,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[n(s.type),e.jsx("span",{children:s.type==="credit_card"?`${s.brand} â€¢â€¢â€¢â€¢ ${s.last4}`:`${s.bank} â€¢â€¢â€¢â€¢ ${s.last4}`}),s.isDefault&&e.jsx(P,{variant:"outline",className:"ml-2",children:"Default"})]})},s.id))})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Rent Amount:"}),e.jsxs("span",{children:["$",N]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Processing Fee:"}),e.jsx("span",{children:"$0.00"})]}),e.jsxs("div",{className:"flex justify-between font-medium border-t pt-1",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",N]})]})]})]}),e.jsxs(m,{className:"w-full",onClick:p,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Pay $",N]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Your payment is secure and encrypted. You will receive a confirmation email once processed."})]})]})})}),e.jsx(L,{value:"history",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Payment History"}),e.jsx(M,{children:"All your payment transactions"})]}),e.jsxs(m,{variant:"outline",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Export"]})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:U.paymentHistory.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-full",children:s.status==="paid"?e.jsx(Z,{className:"h-4 w-4 text-green-600"}):s.status==="pending"?e.jsx(re,{className:"h-4 w-4 text-yellow-600"}):e.jsx(qe,{className:"h-4 w-4 text-red-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"font-medium",children:s.type}),s.lateFee>0&&e.jsxs(P,{variant:"outline",className:"text-red-600",children:["+$",s.lateFee," late fee"]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.date}),e.jsxs("p",{className:"text-xs text-gray-400",children:[s.method," â€¢ Ref: ",s.reference]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-lg",children:["$",s.amount]}),e.jsx(P,{className:x(s.status),children:s.status})]})]},s.id))})})]})}),e.jsx(L,{value:"methods",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Payment Methods"}),e.jsx(M,{children:"Manage your saved payment methods"})]}),e.jsxs(m,{children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Add Method"]})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:U.savedPaymentMethods.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-full",children:n(s.type)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.type==="credit_card"?`${s.brand} â€¢â€¢â€¢â€¢ ${s.last4}`:`${s.bank} â€¢â€¢â€¢â€¢ ${s.last4}`}),e.jsx("p",{className:"text-sm text-gray-500",children:s.type==="credit_card"?"Credit Card":"Bank Account"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.isDefault&&e.jsx(P,{variant:"outline",children:"Default"}),e.jsx(m,{variant:"outline",size:"sm",children:"Edit"}),e.jsx(m,{variant:"outline",size:"sm",className:"text-red-600",children:"Remove"})]})]},s.id))})})]})})]})]})}const K={lease:[{id:1,name:"Lease Agreement - 2024",type:"lease",size:"2.4 MB",uploadDate:"2023-09-15",expiryDate:"2024-12-31",status:"active"},{id:2,name:"Lease Amendment - Pet Policy",type:"amendment",size:"156 KB",uploadDate:"2023-11-20",status:"active"}],insurance:[{id:3,name:"Renters Insurance Policy",type:"insurance",size:"1.8 MB",uploadDate:"2023-09-20",expiryDate:"2024-09-20",status:"active",required:!0},{id:4,name:"Insurance Certificate",type:"certificate",size:"245 KB",uploadDate:"2023-09-20",status:"active"}],personal:[{id:5,name:"Emergency Contact Form",type:"form",size:"89 KB",uploadDate:"2023-09-15",status:"active"},{id:6,name:"Move-in Inspection Report",type:"inspection",size:"3.2 MB",uploadDate:"2023-09-16",status:"completed"}],notices:[{id:7,name:"Lease Renewal Notice",type:"notice",size:"124 KB",uploadDate:"2024-01-15",status:"new",actionRequired:!0},{id:8,name:"Maintenance Schedule Notice",type:"notice",size:"67 KB",uploadDate:"2024-01-10",status:"read"}]};function ss(){const[i,b]=u.useState(""),[l,N]=u.useState("all"),t=()=>[...K.lease,...K.insurance,...K.personal,...K.notices],y=()=>{let s=t();return l!=="all"&&(s=K[l]||[]),i&&(s=s.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())||f.type.toLowerCase().includes(i.toLowerCase()))),s},C=s=>{switch(s){case"lease":case"amendment":return e.jsx(ie,{className:"h-5 w-5 text-blue-500"});case"insurance":case"certificate":return e.jsx(we,{className:"h-5 w-5 text-green-500"});case"notice":return e.jsx(Q,{className:"h-5 w-5 text-orange-500"});default:return e.jsx(ce,{className:"h-5 w-5 text-gray-500"})}},p=s=>s.actionRequired?e.jsx(P,{className:"bg-red-100 text-red-800",children:"Action Required"}):s.status==="new"?e.jsx(P,{className:"bg-blue-100 text-blue-800",children:"New"}):s.status==="active"?e.jsx(P,{className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(P,{variant:"outline",children:s.status}),x=s=>{if(!s)return!1;const f=new Date(s),S=new Date,k=Math.ceil((f.getTime()-S.getTime())/(1e3*3600*24));return k<=30&&k>0},n=y();return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Documents"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Access your lease, insurance, and other important documents"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(me,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(T,{placeholder:"Search documents...",value:i,onChange:s=>b(s.target.value),className:"pl-10"})]}),e.jsxs(m,{children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]}),e.jsxs(ee,{value:l,onValueChange:N,className:"space-y-6",children:[e.jsxs(se,{className:"grid w-full grid-cols-5",children:[e.jsx(D,{value:"all",children:"All Documents"}),e.jsx(D,{value:"lease",children:"Lease"}),e.jsx(D,{value:"insurance",children:"Insurance"}),e.jsx(D,{value:"personal",children:"Personal"}),e.jsx(D,{value:"notices",children:"Notices"})]}),e.jsxs(L,{value:l,className:"space-y-4",children:[l==="all"&&e.jsx("div",{className:"space-y-4",children:t().some(s=>s.expiryDate&&x(s.expiryDate))&&e.jsxs(h,{className:"border-orange-200 bg-orange-50 dark:bg-orange-900/20",children:[e.jsx(v,{children:e.jsxs(w,{className:"text-orange-800 dark:text-orange-200 flex items-center",children:[e.jsx(Q,{className:"h-5 w-5 mr-2"}),"Documents Expiring Soon"]})}),e.jsx(j,{children:e.jsx("div",{className:"space-y-2",children:t().filter(s=>s.expiryDate&&x(s.expiryDate)).map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:s.name}),e.jsxs("span",{className:"text-sm text-orange-600",children:["Expires ",s.expiryDate||"N/A"]})]},s.id))})})]})}),e.jsx("div",{className:"grid gap-4",children:n.map(s=>e.jsx(h,{className:"hover:shadow-md transition-shadow",children:e.jsx(j,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg",children:C(s.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[e.jsxs("span",{children:["Size: ",s.size]}),e.jsxs("span",{children:["Uploaded: ",s.uploadDate]}),s.expiryDate&&e.jsxs("span",{className:s.expiryDate&&x(s.expiryDate)?"text-orange-600":"",children:["Expires: ",s.expiryDate]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p(s),e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})},s.id))}),n.length===0&&e.jsx(h,{children:e.jsxs(j,{className:"text-center py-8",children:[e.jsx(ce,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No documents found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:i?"Try adjusting your search terms":"No documents available in this category"})]})})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(h,{children:[e.jsx(v,{children:e.jsx(w,{className:"text-lg",children:"Need Help?"})}),e.jsxs(j,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Can't find a document or need assistance?"}),e.jsx(m,{variant:"outline",className:"w-full",children:"Contact Support"})]})]}),e.jsxs(h,{children:[e.jsx(v,{children:e.jsx(w,{className:"text-lg",children:"Document Requests"})}),e.jsxs(j,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Request additional documents from your property manager"}),e.jsx(m,{variant:"outline",className:"w-full",children:"Request Document"})]})]}),e.jsxs(h,{children:[e.jsx(v,{children:e.jsx(w,{className:"text-lg",children:"Digital Signatures"})}),e.jsxs(j,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Sign documents electronically when required"}),e.jsx(m,{variant:"outline",className:"w-full",children:"Pending Signatures"})]})]})]})]})}const O=[{id:1,subject:"Lease Renewal Notice",from:"Property Manager",fromEmail:"manager@ondorealestate.com",to:"tenant@email.com",date:"2024-01-20",time:"10:30 AM",content:`Dear Tenant,

We hope you're enjoying your stay at 123 Oak Street. Your current lease is set to expire on December 31, 2024.

We would like to offer you a lease renewal with the following terms:
- New lease term: 12 months
- Monthly rent: $1,900 (increase of $50)
- Lease start date: January 1, 2025

Please let us know your decision by February 15, 2024.

Best regards,
Property Management Team`,isRead:!1,isStarred:!1,category:"lease",priority:"high",attachments:["lease_renewal_terms.pdf"]},{id:2,subject:"Scheduled Maintenance - HVAC Inspection",from:"Maintenance Team",fromEmail:"maintenance@ondorealestate.com",to:"tenant@email.com",date:"2024-01-18",time:"2:15 PM",content:`Hello,

This is to inform you that we have scheduled a routine HVAC inspection for your unit.

Date: January 25, 2024
Time: 10:00 AM - 12:00 PM
Technician: Mike Johnson

Please ensure someone is available to provide access to the unit. If this time doesn't work for you, please contact us to reschedule.

Thank you for your cooperation.

Maintenance Team`,isRead:!0,isStarred:!0,category:"maintenance",priority:"medium",attachments:[]},{id:3,subject:"Welcome to Your New Home!",from:"Property Manager",fromEmail:"manager@ondorealestate.com",to:"tenant@email.com",date:"2023-09-15",time:"9:00 AM",content:`Welcome to 123 Oak Street!

We're excited to have you as our new tenant. Here are some important details:

- Your move-in date is confirmed for September 16, 2023
- Keys will be available at the leasing office from 9 AM
- Please complete the move-in inspection within 48 hours
- Emergency contact: (555) 123-4567

If you have any questions, don't hesitate to reach out.

Welcome home!
Property Management Team`,isRead:!0,isStarred:!1,category:"general",priority:"medium",attachments:["welcome_packet.pdf","emergency_contacts.pdf"]},{id:4,subject:"Rent Payment Confirmation",from:"Billing Department",fromEmail:"billing@ondorealestate.com",to:"tenant@email.com",date:"2024-01-01",time:"11:45 AM",content:`Dear Tenant,

This confirms that we have received your rent payment for January 2024.

Payment Details:
- Amount: $1,850.00
- Payment Method: Credit Card ending in 4242
- Transaction ID: PAY-2024-001
- Date Processed: January 1, 2024

Thank you for your prompt payment.

Billing Department`,isRead:!0,isStarred:!1,category:"billing",priority:"low",attachments:["receipt_jan_2024.pdf"]}];function as(){var A,$,z,F,_,V,a;const{toast:i}=J(),[b,l]=u.useState(null),[N,t]=u.useState(""),[y,C]=u.useState("all"),[p,x]=u.useState(!1),[n,s]=u.useState({to:"manager@ondorealestate.com",subject:"",category:"general",priority:"medium",content:""}),f=O.filter(r=>{const o=r.subject.toLowerCase().includes(N.toLowerCase())||r.content.toLowerCase().includes(N.toLowerCase())||r.from.toLowerCase().includes(N.toLowerCase()),g=y==="all"||r.category===y;return o&&g}),S=()=>{i({title:"Message Sent",description:"Your message has been sent successfully."}),x(!1),s({to:"manager@ondorealestate.com",subject:"",category:"general",priority:"medium",content:""})},k=r=>{switch(r){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},R=r=>{switch(r){case"lease":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"maintenance":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"billing":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return p?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(h,{children:[e.jsx(v,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Compose Message"}),e.jsx(M,{children:"Send a message to your property management team"})]}),e.jsx(m,{variant:"outline",onClick:()=>x(!1),children:"Cancel"})]})}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"to",children:"To"}),e.jsxs(I,{value:n.to,onValueChange:r=>s(o=>({...o,to:r})),children:[e.jsx(E,{children:e.jsx(B,{})}),e.jsxs(q,{children:[e.jsx(d,{value:"manager@ondorealestate.com",children:"Property Manager"}),e.jsx(d,{value:"maintenance@ondorealestate.com",children:"Maintenance Team"}),e.jsx(d,{value:"billing@ondorealestate.com",children:"Billing Department"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"category",children:"Category"}),e.jsxs(I,{value:n.category,onValueChange:r=>s(o=>({...o,category:r})),children:[e.jsx(E,{children:e.jsx(B,{})}),e.jsxs(q,{children:[e.jsx(d,{value:"general",children:"General Inquiry"}),e.jsx(d,{value:"maintenance",children:"Maintenance"}),e.jsx(d,{value:"lease",children:"Lease Related"}),e.jsx(d,{value:"billing",children:"Billing"}),e.jsx(d,{value:"complaint",children:"Complaint"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"subject",children:"Subject"}),e.jsx(T,{id:"subject",value:n.subject,onChange:r=>s(o=>({...o,subject:r.target.value})),placeholder:"Enter message subject"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"priority",children:"Priority"}),e.jsxs(I,{value:n.priority,onValueChange:r=>s(o=>({...o,priority:r})),children:[e.jsx(E,{children:e.jsx(B,{})}),e.jsxs(q,{children:[e.jsx(d,{value:"low",children:"Low"}),e.jsx(d,{value:"medium",children:"Medium"}),e.jsx(d,{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"content",children:"Message"}),e.jsx(he,{id:"content",value:n.content,onChange:r=>s(o=>({...o,content:r.target.value})),placeholder:"Type your message here...",rows:8})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(m,{variant:"outline",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Attach Files"]}),e.jsxs(m,{onClick:S,children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]})})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Messages"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Communicate with your property management team"})]}),e.jsxs(m,{onClick:()=>x(!0),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Compose"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(T,{placeholder:"Search messages...",value:N,onChange:r=>t(r.target.value),className:"pl-10"})]}),e.jsxs(I,{value:y,onValueChange:C,children:[e.jsx(E,{children:e.jsx(B,{placeholder:"All Categories"})}),e.jsxs(q,{children:[e.jsx(d,{value:"all",children:"All Categories"}),e.jsx(d,{value:"general",children:"General"}),e.jsx(d,{value:"maintenance",children:"Maintenance"}),e.jsx(d,{value:"lease",children:"Lease"}),e.jsx(d,{value:"billing",children:"Billing"})]})]})]}),e.jsx("div",{className:"space-y-2",children:f.map(r=>e.jsx(h,{className:`cursor-pointer transition-colors ${b===r.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-800"} ${r.isRead?"":"border-l-4 border-l-blue-500"}`,onClick:()=>l(r.id),children:e.jsxs(j,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium",children:r.from}),r.isStarred&&e.jsx(Ve,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:r.time})]}),e.jsx("h3",{className:`font-medium mb-1 ${r.isRead?"":"font-bold"}`,children:r.subject}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:r.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(P,{className:R(r.category),variant:"outline",children:r.category}),e.jsx(P,{className:k(r.priority),variant:"outline",children:r.priority})]}),e.jsx("span",{className:"text-xs text-gray-500",children:r.date})]})]})},r.id))})]}),e.jsx("div",{className:"lg:col-span-2",children:b?e.jsxs(h,{children:[e.jsx(v,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{className:"text-xl",children:(A=O.find(r=>r.id===b))==null?void 0:A.subject}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-2",children:[e.jsxs("span",{children:["From: ",($=O.find(r=>r.id===b))==null?void 0:$.from]}),e.jsxs("span",{children:[(z=O.find(r=>r.id===b))==null?void 0:z.date," at ",(F=O.find(r=>r.id===b))==null?void 0:F.time]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Reply"]}),e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})}),e.jsxs(j,{children:[e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap text-gray-700 dark:text-gray-300",children:(_=O.find(r=>r.id===b))==null?void 0:_.content})}),((V=O.find(r=>r.id===b))==null?void 0:V.attachments.length)>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Attachments"}),e.jsx("div",{className:"space-y-2",children:(a=O.find(r=>r.id===b))==null?void 0:a.attachments.map((r,o)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:r})]}),e.jsx(m,{variant:"outline",size:"sm",children:"Download"})]},o))})]})]})]}):e.jsx(h,{children:e.jsxs(j,{className:"text-center py-12",children:[e.jsx(ne,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Select a message"}),e.jsx("p",{className:"text-gray-500",children:"Choose a message from the list to view its contents"})]})})})]})]})}const pe=i=>({personalInfo:{firstName:(i==null?void 0:i.firstName)||"John",lastName:(i==null?void 0:i.lastName)||"Smith",email:(i==null?void 0:i.email)||"john.smith@email.com",phone:(i==null?void 0:i.phone)||"(555) 123-4567",address:(i==null?void 0:i.address)||"",dateOfBirth:"1990-05-15",emergencyContact:{name:"Jane Smith",relationship:"Spouse",phone:"(555) 987-6543"}},leaseInfo:{propertyAddress:"123 Oak Street, Apt 2B",city:"Salt Lake City, UT 84101",leaseStart:"2023-09-16",leaseEnd:"2024-12-31",monthlyRent:1850,securityDeposit:1850,petDeposit:200},preferences:{emailNotifications:!0,smsNotifications:!1,maintenanceReminders:!0,rentReminders:!0,marketingEmails:!1}});function ts(){const{user:i,refreshUser:b}=ge(),{toast:l}=J(),[N,t]=u.useState("personal"),[y,C]=u.useState(!1),[p,x]=u.useState(()=>pe(i)),[n,s]=u.useState(null),[f,S]=u.useState(!0),[k,R]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[A,$]=u.useState(!1),[z,F]=u.useState(!1);u.useEffect(()=>{const o=async()=>{try{S(!0);const g=await ye.getTenantProperty();s(g),console.log("Fetched assigned property:",g)}catch(g){console.error("Error fetching assigned property:",g),s(null)}finally{S(!1)}};(i==null?void 0:i.role)==="tenant"&&o()},[i]);const _=async()=>{if(!p.personalInfo.firstName.trim()||!p.personalInfo.lastName.trim()){l({title:"Error",description:"Please fill in all required fields (First Name, Last Name).",variant:"destructive"});return}try{F(!0),await le.updateProfile({firstName:p.personalInfo.firstName,lastName:p.personalInfo.lastName,phone:p.personalInfo.phone,address:p.personalInfo.address}),l({title:"Profile Updated",description:"Your profile information has been saved successfully."}),C(!1)}catch(o){console.error("Error updating profile:",o),l({title:"Error",description:o.message||"Failed to update profile.",variant:"destructive"})}finally{F(!1)}},V=()=>{x(pe(i)),C(!1)},a=async o=>{try{F(!0);const g=await le.updateProfile({firstName:p.personalInfo.firstName,lastName:p.personalInfo.lastName,phone:p.personalInfo.phone,address:p.personalInfo.address,profilePicture:o});await b(),l({title:"Profile picture updated",description:"Your profile picture has been updated successfully."})}catch(g){console.error("Error updating profile picture:",g),l({title:"Error",description:g.message||"Failed to update profile picture. Please try again.",variant:"destructive"})}finally{F(!1)}},r=async()=>{if(k.newPassword!==k.confirmPassword){l({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}if(k.newPassword.length<6){l({title:"Error",description:"New password must be at least 6 characters long.",variant:"destructive"});return}try{$(!0),await le.changePassword({currentPassword:k.currentPassword,newPassword:k.newPassword}),l({title:"Success",description:"Password updated successfully."}),R({currentPassword:"",newPassword:"",confirmPassword:""})}catch(o){console.error("Error changing password:",o),l({title:"Error",description:o.message||"Failed to update password.",variant:"destructive"})}finally{$(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your personal information and preferences"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(h,{children:e.jsx(j,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsxs("div",{className:"relative",children:[i!=null&&i.profilePicture?e.jsx(Le,{imageSrc:i.profilePicture,userName:`${p.personalInfo.firstName} ${p.personalInfo.lastName}`}):e.jsxs(Se,{className:"h-24 w-24",children:[e.jsx(Ce,{src:i==null?void 0:i.profilePicture}),e.jsxs(Pe,{className:"text-lg",children:[p.personalInfo.firstName[0],p.personalInfo.lastName[0]]})]}),e.jsx(Fe,{onCropComplete:a,trigger:e.jsx(m,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",children:e.jsx(xe,{className:"h-4 w-4"})})})]}),e.jsxs("h3",{className:"font-semibold text-lg mt-4",children:[p.personalInfo.firstName," ",p.personalInfo.lastName]}),e.jsx("p",{className:"text-sm text-gray-500",children:p.personalInfo.email}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f?"Loading...":n?n.title:"No property assigned"}),e.jsxs("div",{className:"w-full mt-6 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Lease Status:"}),e.jsx("span",{className:"font-medium text-green-600",children:f?"...":n?"Active":"No Property"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Lease Expires:"}),e.jsx("span",{className:"font-medium",children:f?"...":n?new Date(new Date(n.createdAt).getTime()+30*24*60*60*1e3).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Monthly Rent:"}),e.jsx("span",{className:"font-medium",children:f?"...":n?`$${n.price||0}`:"$0"})]})]})]})})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(ee,{value:N,onValueChange:t,className:"space-y-6",children:[e.jsxs(se,{className:"grid w-full grid-cols-3",children:[e.jsx(D,{value:"personal",children:"Personal Info"}),e.jsx(D,{value:"lease",children:"Lease Details"}),e.jsx(D,{value:"security",children:"Security"})]}),e.jsx(L,{value:"personal",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Personal Information"}),e.jsx(M,{children:"Update your personal details"})]}),y?e.jsxs("div",{className:"space-x-2",children:[e.jsx(m,{variant:"outline",onClick:V,children:"Cancel"}),e.jsx(m,{onClick:_,disabled:z,children:z?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Save"]})})]}):e.jsxs(m,{variant:"outline",onClick:()=>C(!0),children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"firstName",children:"First Name"}),e.jsx(T,{id:"firstName",value:p.personalInfo.firstName,onChange:o=>x(g=>({...g,personalInfo:{...g.personalInfo,firstName:o.target.value}})),disabled:!y})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"lastName",children:"Last Name"}),e.jsx(T,{id:"lastName",value:p.personalInfo.lastName,onChange:o=>x(g=>({...g,personalInfo:{...g.personalInfo,lastName:o.target.value}})),disabled:!y})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"email",children:"Email Address"}),e.jsx(T,{id:"email",type:"email",value:p.personalInfo.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"phone",children:"Phone Number"}),e.jsx(T,{id:"phone",value:p.personalInfo.phone,onChange:o=>x(g=>({...g,personalInfo:{...g.personalInfo,phone:o.target.value}})),disabled:!y})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"address",children:"Address"}),e.jsx(he,{id:"address",value:p.personalInfo.address,onChange:o=>x(g=>({...g,personalInfo:{...g.personalInfo,address:o.target.value}})),disabled:!y,placeholder:"Enter your address",rows:3})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsx(T,{id:"dateOfBirth",type:"date",value:p.personalInfo.dateOfBirth,onChange:o=>x(g=>({...g,personalInfo:{...g.personalInfo,dateOfBirth:o.target.value}})),disabled:!y})]})]})]})}),e.jsx(L,{value:"lease",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Lease Information"}),e.jsx(M,{children:"Your current lease details"})]}),e.jsxs(j,{className:"space-y-6",children:[f?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(X,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading property details..."})]}):n?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium text-gray-500",children:"Property Name"}),e.jsx("p",{className:"text-lg font-medium",children:n.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.addressLine1,", ",n.city,", ",n.state," ",n.zipcode]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium text-gray-500",children:"Monthly Rent"}),e.jsxs("p",{className:"text-lg font-medium",children:["$",n.price||0]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium text-gray-500",children:"Lease Start Date"}),e.jsx("p",{className:"text-lg font-medium",children:new Date(n.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium text-gray-500",children:"Lease End Date"}),e.jsx("p",{className:"text-lg font-medium",children:new Date(new Date(n.createdAt).getTime()+30*24*60*60*1e3).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium text-gray-500",children:"Property Type"}),e.jsx("p",{className:"text-lg font-medium capitalize",children:n.type})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium text-gray-500",children:"Bedrooms/Bathrooms"}),e.jsxs("p",{className:"text-lg font-medium",children:[n.bedrooms||"N/A"," bed / ",n.bathrooms||"N/A"," bath"]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium text-gray-500",children:"Square Footage"}),e.jsxs("p",{className:"text-lg font-medium",children:[n.sqft||"N/A"," sq ft"]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium text-gray-500",children:"Property Status"}),e.jsx("p",{className:"text-lg font-medium capitalize",children:n.status})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No property assigned to your account."})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Lease Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(m,{variant:"outline",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Request Lease Renewal coming soon..."]}),e.jsxs(m,{variant:"outline",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Occupant coming soon..."]})]})]})]})]})}),e.jsx(L,{value:"security",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Security Settings"}),e.jsx(M,{children:"Manage your account security"})]}),e.jsx(j,{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4 max-w-md",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"currentPassword",children:"Current Password"}),e.jsx(T,{id:"currentPassword",type:"password",value:k.currentPassword,onChange:o=>R(g=>({...g,currentPassword:o.target.value})),disabled:A})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"newPassword",children:"New Password"}),e.jsx(T,{id:"newPassword",type:"password",value:k.newPassword,onChange:o=>R(g=>({...g,newPassword:o.target.value})),disabled:A})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(T,{id:"confirmPassword",type:"password",value:k.confirmPassword,onChange:o=>R(g=>({...g,confirmPassword:o.target.value})),disabled:A})]}),e.jsx(m,{onClick:r,disabled:A||!k.currentPassword||!k.newPassword||!k.confirmPassword,children:A?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):"Update Password"})]})]})})]})})]})})]})]})}function ns(){const[i,b]=u.useState("notifications"),[l,N]=u.useState({notifications:{email:{maintenance:!0,payments:!0,leaseUpdates:!0,announcements:!1},push:{urgentMaintenance:!0,paymentReminders:!0,leaseReminders:!0}},preferences:{theme:"light",language:"english",timezone:"America/Denver"},security:{twoFactor:!1,sessionTimeout:"60"}}),{toast:t}=J(),y=(x,n,s)=>{N(f=>({...f,[x]:{...f[x],[n]:{...f[x][n],[s]:!f[x][n][s]}}}))},C=(x,n,s)=>{N(f=>({...f,[x]:{...f[x],[n]:s}}))},p=()=>{t({title:"Settings Saved",description:"Your settings have been updated successfully."})};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Tenant Settings"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure your account preferences and notifications"})]}),e.jsxs(ee,{value:i,onValueChange:b,className:"space-y-6",children:[e.jsxs(se,{className:"grid w-full grid-cols-3",children:[e.jsx(D,{value:"notifications",children:"Notifications"}),e.jsx(D,{value:"preferences",children:"Preferences"}),e.jsx(D,{value:"security",children:"Security"})]}),e.jsxs(L,{value:"notifications",className:"space-y-6",children:[e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Email Notifications"}),e.jsx(M,{children:"Choose what emails you'd like to receive"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Maintenance Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications about maintenance requests and updates"})]}),e.jsx(H,{checked:l.notifications.email.maintenance,onCheckedChange:()=>y("notifications","email","maintenance")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Payment Reminders"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get reminded when rent payments are due"})]}),e.jsx(H,{checked:l.notifications.email.payments,onCheckedChange:()=>y("notifications","email","payments")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Lease Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Important updates about your lease agreement"})]}),e.jsx(H,{checked:l.notifications.email.leaseUpdates,onCheckedChange:()=>y("notifications","email","leaseUpdates")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Property Announcements"}),e.jsx("p",{className:"text-sm text-gray-500",children:"News and announcements from property management"})]}),e.jsx(H,{checked:l.notifications.email.announcements,onCheckedChange:()=>y("notifications","email","announcements")})]})]})})]}),e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Push Notifications"}),e.jsx(M,{children:"Configure push notifications for your devices"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Urgent Maintenance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Emergency maintenance notifications"})]}),e.jsx(H,{checked:l.notifications.push.urgentMaintenance,onCheckedChange:()=>y("notifications","push","urgentMaintenance")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Payment Due Reminders"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notifications when rent is almost due"})]}),e.jsx(H,{checked:l.notifications.push.paymentReminders,onCheckedChange:()=>y("notifications","push","paymentReminders")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Lease Reminders"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Important lease-related notifications"})]}),e.jsx(H,{checked:l.notifications.push.leaseReminders,onCheckedChange:()=>y("notifications","push","leaseReminders")})]})]})})]})]}),e.jsx(L,{value:"preferences",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"General Preferences"}),e.jsx(M,{children:"Configure your general application preferences"})]}),e.jsx(j,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Theme"}),e.jsxs(I,{value:l.preferences.theme,onValueChange:x=>C("preferences","theme",x),children:[e.jsx(E,{children:e.jsx(B,{})}),e.jsxs(q,{children:[e.jsx(d,{value:"light",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Light"]})}),e.jsx(d,{value:"dark",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Dark"]})}),e.jsx(d,{value:"system",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"System"]})})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Language"}),e.jsxs(I,{value:l.preferences.language,onValueChange:x=>C("preferences","language",x),children:[e.jsx(E,{children:e.jsx(B,{})}),e.jsxs(q,{children:[e.jsx(d,{value:"english",children:"English"}),e.jsx(d,{value:"spanish",children:"Spanish"}),e.jsx(d,{value:"french",children:"French"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Timezone"}),e.jsxs(I,{value:l.preferences.timezone,onValueChange:x=>C("preferences","timezone",x),children:[e.jsx(E,{children:e.jsx(B,{})}),e.jsxs(q,{children:[e.jsx(d,{value:"America/Denver",children:"Mountain Time (MST)"}),e.jsx(d,{value:"America/New_York",children:"Eastern Time (EST)"}),e.jsx(d,{value:"America/Chicago",children:"Central Time (CST)"}),e.jsx(d,{value:"America/Los_Angeles",children:"Pacific Time (PST)"})]})]})]})]})})]})}),e.jsx(L,{value:"security",className:"space-y-6",children:e.jsxs(h,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Security Settings"}),e.jsx(M,{children:"Manage your account security preferences"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),e.jsx(H,{checked:l.security.twoFactor,onCheckedChange:()=>y("security","twoFactor","true")})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Session Timeout (minutes)"}),e.jsxs(I,{value:l.security.sessionTimeout,onValueChange:x=>C("security","sessionTimeout",x),children:[e.jsx(E,{className:"max-w-xs",children:e.jsx(B,{})}),e.jsxs(q,{children:[e.jsx(d,{value:"15",children:"15 minutes"}),e.jsx(d,{value:"30",children:"30 minutes"}),e.jsx(d,{value:"60",children:"1 hour"}),e.jsx(d,{value:"240",children:"4 hours"}),e.jsx(d,{value:"480",children:"8 hours"})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Password & Access"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{variant:"outline",children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Change Password"]}),e.jsxs(m,{variant:"outline",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Update Email Address"]})]})]})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(m,{onClick:p,className:"bg-gradient-to-r from-orange-500 to-red-800 hover:from-orange-600 hover:to-red-900",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Save All Settings"]})})]})]})}function xs(){return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx(u.Suspense,{fallback:e.jsx(ke,{}),children:e.jsxs(Ne,{children:[e.jsx(Y,{path:"/",element:e.jsx(Ge,{})}),e.jsx(Y,{path:"/maintenance/*",element:e.jsx(Qe,{})}),e.jsx(Y,{path:"/payments",element:e.jsx(es,{})}),e.jsx(Y,{path:"/documents",element:e.jsx(ss,{})}),e.jsx(Y,{path:"/messages",element:e.jsx(as,{})}),e.jsx(Y,{path:"/profile",element:e.jsx(ts,{})}),e.jsx(Y,{path:"/settings",element:e.jsx(ns,{})})]})})})}export{xs as default};
